# RefactorIQ Production Environment Configuration
# Copy this file to .env.production and fill in your production values

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=production
DEBUG=false

# =============================================================================
# SECURITY
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-this
ENCRYPTION_KEY=your-encryption-key-here-change-this

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/refactoriq_prod
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_RPM=100
RATE_LIMIT_RPH=1000
RATE_LIMIT_RPD=10000

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=/var/log/refactoriq/app.log
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id
METRICS_PORT=9090

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8000
WORKERS=4
WORKER_CONNECTIONS=1000
KEEPALIVE=2
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=30
GRACEFUL_TIMEOUT=30

# =============================================================================
# FILE UPLOADS
# =============================================================================
MAX_UPLOAD_SIZE=100  # MB
UPLOAD_TEMP_DIR=/tmp/refactoriq

# =============================================================================
# AWS SERVICES
# =============================================================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET=refactoriq-uploads-prod
BACKUP_S3_BUCKET=refactoriq-backups-prod

# =============================================================================
# GITHUB INTEGRATION
# =============================================================================
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# =============================================================================
# GITLAB INTEGRATION
# =============================================================================
GITLAB_CLIENT_ID=your-gitlab-client-id
GITLAB_CLIENT_SECRET=your-gitlab-client-secret
GITLAB_WEBHOOK_SECRET=your-gitlab-webhook-secret

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_TLS=true
FROM_EMAIL=noreply@refactoriq.com

# =============================================================================
# BACKGROUND JOBS
# =============================================================================
ARQ_JOB_TIMEOUT=3600
ARQ_KEEP_RESULT=86400
ARQ_MAX_JOBS=10

# =============================================================================
# HEALTH CHECKS & BACKUP
# =============================================================================
HEALTH_CHECK_INTERVAL=30
BACKUP_RETENTION_DAYS=30

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
NEXT_PUBLIC_API_URL=https://api.refactoriq.com
NEXT_PUBLIC_WS_URL=wss://api.refactoriq.com
NEXT_PUBLIC_SENTRY_DSN=https://your-frontend-sentry-dsn@sentry.io/project-id

# =============================================================================
# SSL/TLS
# =============================================================================
SSL_CERT_PATH=/etc/ssl/certs/refactoriq.pem
SSL_KEY_PATH=/etc/ssl/private/refactoriq.key